<!DOCTYPE html>
<html lang="en" class="loading">
  <!-- BEGIN : Head-->
    <head>
        <title>E-Ticket : TA Request</title> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
        <meta name="description" content="MIS Request">
        <meta name="author" content="Forderson">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-touch-fullscreen" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="default">
        <link rel="shortcut icon" href="../img/logo_ticket.ico">
        <link rel="stylesheet" type="text/css" href="../css/style.min.css">
        <link rel="stylesheet" type="text/css" href="../css/style.css">
        <link rel="stylesheet" type="text/css" href="../css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="../css/perfect-scrollbar.min.css">
        <link rel="stylesheet" type="text/css" href="../css/prism.min.css">
        <link rel="stylesheet" type="text/css" href="../css/app.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

        <style>
            .container {
                /* background-color: #111; */
                bottom: 0;
                left: 0;
                position: absolute;
                right: 0;
                text-align: center;
                top: 0;
            }
        
            .file-upload__label {
                background-color:rgba(162, 224, 213, 0.9);
                border-radius: 10px;
                color: #000;
                font-size: 16px;
                /* left: 50%; */
                padding: 5px 10px;
                cursor: pointer;
                outline: none;
                /* padding: 15px; */
                pointer-events: none;
                position: absolute;
                text-align: center;
                top: 50%;
                -moz-transform: translate(-50%, -50%);
                -webkit-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);
                -webkit-user-select: none;
                white-space: nowrap;
                width: 90%;
            }
        
            .file-upload__input {
                bottom: 0;
                color: transparent;
                cursor: pointer;
                height: 100%;
                left: 0;
                opacity: 0;
                position: absolute;
                right: 0;
                top: 0;
                width: 100%;
            }
        </style>
    </head>

    <body data-col="2-columns" class=" 2-columns ">
        <div id="cover-spin"></div>
            <div class="wrapper nav-collapsed menu-collapsed">
                <div data-active-color="white" data-background-color="info" data-image="../img/06.jpg" class="app-sidebar">
                    <div class="sidebar-header">
                        <div class="logo clearfix"><a href="/home" class="logo-text float-left">
                            <span class="text align-middle"><img src="../img/logo.png"/></span></a>
                        </div>
                    </div>
                    <div class="sidebar-content ">
                        <div class="nav-container">
                            <ul id="main-menu-navigation" data-menu="menu-navigation" data-scroll-to-active="true" class="navigation navigation-main">
                                <li class=" nav-item">
                                    <a href="#">
                                        <i class="fas fa-home"></i>
                                        <span data-i18n="" class="menu-title">Home </span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="TAlist.html">
                                        <i class="fas fa-file-text"></i>
                                        <span data-i18n="" class="menu-title">Request List</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="sidebar-background">
                    </div>
                </div>
                <nav class="navbar navbar-expand-lg navbar-light header-navbar toggle fixed-top gradient-back-to-earth" style="padding-top: 0px;padding-bottom: 0px;">
                    <div class="container-fluid">
                        <div class="navbar-header">
                            <button type="button" data-toggle="collapse" class="navbar-toggle d-lg-none float-left">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                            <span class="d-lg-none navbar-right navbar-collapse-toggle">
                                <a aria-controls="navbarSupportedContent" href="javascript:;" class="open-navbar-container black">
                                    <i class="ft-more-vertical"></i>
                                </a>
                            </span>
                        </div>
                        <div class="navbar-container">
                            <div id="navbarSupportedContent" class="collapse navbar-collapse">
                                <ul class="navbar-nav">
                                    <li class="dropdown nav-item">
                                        <a id="dropdownBasic3" href="#" data-toggle="dropdown" class="nav-link position-relative dropdown-toggle">
                                            <i class="fas fa-user"></i>
                                            <b>Kittipong Chankhotr</b>  
                                        </a>
                                        <div ngbdropdownmenu="" aria-labelledby="dropdownBasic3" class="dropdown-menu text-left dropdown-menu-right">
                                            <a href="#" class="dropdown-item">
                                                <i class="fas fa-power-off mr-2"></i>
                                                <span>Logout</span>
                                            </a>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </nav>

                <div class="main-panel">
                    <div class="main-content">
                        <div class="content-wrapper" style="margin-top: 70px">
                            <form action="/save_request/" method="POST" enctype="multipart/form-data">
                                <input type="hidden" name="csrfmiddlewaretoken" value="Zqny7uRHRDMtjFnlcq3AUpKFlgB3z4Y7rFrcRbHTtH5Jzfr29gdCkjovLmDC68Bg">
                                <section class="basic-elements">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="card">
                                                <div class="card-header">
                                                    <h4 class="card-title">Create Request</h4>
                                                </div>
                                                <div class="card-body">
                                                    <div class="card-content">
                                                        <div class="px-3">
                                                            <div class="form-body">
                                                                <div class="row">
                                                                    <div class="col-xl-2 col-lg-2 col-md-12 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="customer">Customer:</label>
                                                                            <input type="text" class="form-control" maxlength="3" id="customer" name="customer" required="" value="SVI" readonly>
                                                                        </fieldset>
                                                                    </div>
                                                                    <div class="col-lg-4 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="project_no">Project no.:</label>
                                                                            <input type="text" class="form-control" maxlength="100" id="project_no" name="project_no" required="" value="SVI-000000000001"  readonly>
                                                                        </fieldset>
                                                                    </div>
                                                                    <div class="col-lg-4 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="project_name">Project name:</label>
                                                                            <input type="text" class="form-control" maxlength="100" id="project_name" name="project_name" required="" value="Test Project Name"  readonly>
                                                                        </fieldset>
                                                                    </div>
                                                                    <div class="col-xl-2 col-lg-2 col-md-12 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="tel">Tel.:</label>
                                                                            <input type="text" class="form-control" maxlength="10" id="tel" name="tel" required="" value="1355" readonly>
                                                                        </fieldset>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="col-lg-6 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="reason">Reason:</label>
                                                                            <input type="text" class="form-control pickadate-selectors picker__input" id="reason" name="reason" value="Skipped part" readonly>
                                                                        </fieldset>
                                                                    </div>
                                                                    <div class="col-lg-6 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="rootcause">Root Cause :</label>
                                                                            <input type="text" class="form-control" id="rootcause" name="rootcause" required="" value="CMC เปลี่ยนตำแหน่ง QR Code Laser Mark" readonly>
                                                                        </fieldset>
                                                                    </div>
                                                                </div>

                                                                <!-- Work order & Quantity -->
                                                                <div class="row">
                                                                    <div class="col-lg-12 mb-1">
                                                                        <fieldset class="form-group mb-0">
                                                                            <label>Work Order &amp; Quantity:</label>
                                                                            <div class="row ml-1" hidden>
                                                                                <button type="button" id="addRow" class="btn btn-sm btn-primary mr-1"><i class="fa fa-plus"></i></button>
                                                                                <button type="button" id="deleterow" class="btn btn-sm btn-danger"><i class="fa fa-minus"></i></button>
                                                                            </div>
                                                                            <table id="taTable" class="table table-striped table-hover table-bordered nowrap w-100 dataTable no-footer" role="grid">
                                                                                <thead>
                                                                                <tr role="row">
                                                                                    <th class="text-center sorting_disabled">Work Order</th>
                                                                                    <th class="text-center sorting_disabled">Quantity (EA)</th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr role="row" class="odd">
                                                                                    <td><input required name="workorder[]" maxlength="12" type="text" class="form-control input-sm" value="211100397175" readonly></td>
                                                                                    <td><input required name="qty[]" type="number" min="0" step="1" class="form-control input-sm" value="10002" readonly></td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </fieldset>
                                                                    </div>
                                                                </div>

                                                                <!-- Description -->
                                                                <div class="row">
                                                                    <div class="col-lg-12 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="reason">Reason for Change:</label>
                                                                            <textarea class="form-control" id="reason" rows="3" min="80px;" placeholder="Enter description for change" name="reason" maxlength="900" readonly>ให้ CMC เปลี่ยนตำแหน่ง QR code Laser Mark จากหน้า Top มา Laser ที่หน้า Bottom ตามรูปด้านล่าง โดยให้ใช้ QR Code size 3.0 mm -0.2 mm</textarea>
                                                                        </fieldset>
                                                                    </div>
                                                                </div>

                                                                <!-- Approval Loop / Assign to /  Due Date / Attached file -->
                                                                <div class="row">
                                                                    <div class="col-xl-6 col-lg-6 col-md-12 mb-10">
                                                                        <fieldset class="form-group">
                                                                            <label for="selectassign_to">Assign to:</label>
                                                                            <input type="text" class="form-control pickadate-selectors picker__input" name="assign" value="Kittipong Chankhotr" readonly>
                                                                        </fieldset>
                                                                    </div>
                                                                    <div class="col-xl-3 col-lg-3 col-md-12 mb-1">
                                                                        <div class="form-group">
                                                                            <label id="due_date_label">Due date: </label>
                                                                            <div class="input-group">
                                                                                <input type="text" class="form-control pickadate-selectors picker__input" name="due_date" value="18/09/2024" readonly>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xl-3 col-lg-3 col-md-12 mb-1">
                                                                        <div class="form-group">
                                                                            <label>Attached file: </label>
                                                                            <div class="input-group">
                                                                                <a href="file/example.pdf" class="btn btn-success" target="_blank">Open file</a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        
                                            <div class="card">
                                                <div class="card-header mb-2">
                                                    <h4 class="card-title">Approval</h4>
                                                </div>
                                                <div class="card-body">
                                                    <div class="card-content">
                                                        <div class="px-3">
                                                            <div class="form-body">
                                                                <div class="row">
                                                                    <div class="col-lg-12 mb-1">
                                                                        <fieldset class="form-group mb-0">
                                                                            <table id="approverTable" class="table table-striped table-hover table-bordered nowrap w-100 dataTable no-footer" role="grid">
                                                                                <thead>
                                                                                    <tr role="row">
                                                                                        <th class="text-center" style="width: 10%;">Status</th>
                                                                                        <th class="text-center" style="width: 15%;">Date</th>
                                                                                        <th class="text-center">Approver</th>
                                                                                        <th class="text-center" style="width: 15%;">Action</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr role="row">
                                                                                        <td class="text-center success">Approved</td>
                                                                                        <td class="text-center">05/09/2024</th>
                                                                                        <td class="text-center">Tanatip Chunueang</td>
                                                                                        <td class="text-center"><button type="button" class="btn btn-sm btn-primary mb-0 disabled">Update</button></td>
                                                                                    </tr>
                                                                                    <tr role="row">
                                                                                        <td class="text-center warning">Pending</td>
                                                                                        <td class="text-center">-</th>
                                                                                        <td class="text-center">Sirasit Jiernsakwatana</td>
                                                                                        <td class="text-center"><button type="button" class="btn btn-sm btn-primary mb-0">Update</button></td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </fieldset>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card">
                                                <div class="card-header mb-2">
                                                    <h4 class="card-title">TA Issue (Type 1)</h4>
                                                </div>
                                                <div class="card-body">
                                                    <div class="card-content">
                                                        <div class="px-3">
                                                            <div class="form-body">
                                                                <div class="row">
                                                                    <div class="col-xl-5 col-lg-2 col-md-12 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="effective_date">Effective Date:</label>
                                                                            <input type="date" class="form-control" id="effective_date" name="effective_date" required="">
                                                                        </fieldset>
                                                                    </div>
                                                                    <div class="col-lg-7 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="originated_by">Originated by:</label>
                                                                            <input type="text" class="form-control" id="originated_by" name="originated_by" required="" value="Kittipong Chankhotr" readonly>
                                                                        </fieldset>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-lg-5 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="expired_date">Expired Date (+30 days):</label>
                                                                            <input type="date" class="form-control" id="expired_date" name="expired_date" required="" aria-describedby="expired_dateHelp" readonly>
                                                                            <div id="expired_dateHelp" class="form-text" style="font-size: 10px;">Unless specify, the Temporary Authorization has 2 weeks life-time before obsoleted by DCC</div>
                                                                        </fieldset>
                                                                    </div>
                                                                    <div class="col-xl-3 col-lg-5 col-md-12 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="training_required">Training Required:</label>
                                                                            <div class="row ml-2">
                                                                                <div class="form-check form-check-inline">
                                                                                    <input class="form-check-input" type="radio" name="training_required" id="Yes" value="Yes">
                                                                                    <label class="form-check-label" for="Yes">Yes</label>
                                                                                </div>
                                                                                <div class="form-check form-check-inline ml-4">
                                                                                    <input class="form-check-input" type="radio" name="training_required" id="No" value="No" checked>
                                                                                    <label class="form-check-label" for="No">No</label>
                                                                                </div>
                                                                            </div>
                                                                        </fieldset>
                                                                    </div>
                                                                    
                                                                    <div class="col-lg-4 mb-1" id="training_date_container">
                                                                        <fieldset class="form-group">
                                                                            <label for="training_date">Training Date:</label>
                                                                            <input type="date" class="form-control" id="training_date" name="training_date" required="">
                                                                        </fieldset>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-lg mb-1">
                                                                        <fieldset class="form-group mb-0">
                                                                            <label for="description_of_change" class="mb-0">Descripttion of change:</label>
                                                                        </fieldset>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-lg mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="change_from">From:</label>
                                                                            <textarea type="text" class="form-control" id="change_from" name="change_from" required=""></textarea>
                                                                        </fieldset>
                                                                    </div>
                                                                    <div class="col-lg mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="change_to">To:</label>
                                                                            <textarea type="text" class="form-control" id="change_to" name="change_to" required=""></textarea>
                                                                        </fieldset>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-lg mb-1">
                                                                        <fieldset class="form-group">
                                                                            <input type="file" id="change_from_file" name="change_from_file" required="">
                                                                        </fieldset>
                                                                    </div>
                                                                    <div class="col-lg mb-1">
                                                                        <fieldset class="form-group">
                                                                            <input type="file" id="change_to_file" name="change_to_file" required="">
                                                                        </fieldset>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-lg-7 col-md-12 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="permanent_required" aria-describedby="permanent_requiredHelp">Does the change require permanent ECN ?</label>
                                                                            <div class="form-check">
                                                                                <input class="form-check-input" type="radio" name="permanent_required" id="permanent_required_yes" value="Yes">
                                                                                <label class="form-check-label" for="permanent_required_yes">Yes <span style="color: rgb(164, 95, 95);">(If yes the originator must raise an Engineering Change Notice.)</span></label>
                                                                            </div>
                                                                            <div class="form-check">
                                                                                <input class="form-check-input" type="radio" name="permanent_required" id="permanent_required_no" value="No" checked>
                                                                                <label class="form-check-label" for="permanent_required_no">No</label>
                                                                            </div>
                                                                        </fieldset>
                                                                    </div>
                                                                    
                                                                    <div class="col-lg-5 col-md-12 mb-1" id="by_date_container">
                                                                        <fieldset class="form-group">
                                                                            <label for="by_date">By Date:</label>
                                                                            <input type="date" class="form-control" id="by_date" name="by_date" required="">
                                                                        </fieldset>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-lg-7 col-md-12 mb-1">
                                                                        <fieldset class="form-group">
                                                                            <label for="distribution">Distribution:</label>
                                                                            <table>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="form-check form-check-inline ml-2">
                                                                                            <input class="form-check-input" type="checkbox" name="distribution" id="distribution_qa" value="QA">
                                                                                            <label class="form-check-label" for="distribution_qa">QA</label>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td></td>
                                                                                    <td></td>
                                                                                    <td></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="form-check form-check-inline ml-2">
                                                                                            <input class="form-check-input" type="checkbox" name="distribution" id="distribution_pd" value="PD">
                                                                                            <label class="form-check-label" for="distribution_pd">PD</label>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <div class="form-check form-check-inline ml-2">
                                                                                            <input class="form-check-input" type="checkbox" name="distribution" id="distribution_cmccms" value="CMC/CMS">
                                                                                            <label class="form-check-label" for="distribution_cmccms">CMC/CMS</label>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <div class="form-check form-check-inline ml-2">
                                                                                            <input class="form-check-input" type="checkbox" name="distribution" id="distribution_be" value="B/E">
                                                                                            <label class="form-check-label" for="distribution_be">B/E</label>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <div class="form-check form-check-inline ml-2">
                                                                                            <input class="form-check-input" type="checkbox" name="distribution" id="distribution_be1" value="B/E1 (PCBA)">
                                                                                            <label class="form-check-label" for="distribution_be1">B/E1 (PCBA)</label>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td></td>
                                                                                    <td>
                                                                                        <div class="form-check form-check-inline ml-2">
                                                                                            <input class="form-check-input" type="checkbox" name="distribution" id="distribution_cob" value="COB">
                                                                                            <label class="form-check-label" for="distribution_cob">COB</label>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td></td>
                                                                                    <td>
                                                                                        <div class="form-check form-check-inline ml-2">
                                                                                            <input class="form-check-input" type="checkbox" name="distribution" id="distribution_be2" value="B/E2 (Box Build)">
                                                                                            <label class="form-check-label" for="distribution_be2">B/E2 (Box Build)</label>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td></td>
                                                                                    <td>
                                                                                        <div class="form-check form-check-inline ml-2">
                                                                                            <input class="form-check-input" type="checkbox" name="distribution" id="distribution_smt" value="SMT">
                                                                                            <label class="form-check-label" for="distribution_smt">SMT</label>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td></td>
                                                                                    <td></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td></td>
                                                                                    <td>
                                                                                        <div class="form-check form-check-inline ml-2">
                                                                                            <input class="form-check-input" type="checkbox" name="distribution" id="distribution_imt" value="IMT">
                                                                                            <label class="form-check-label" for="distribution_imt">IMT</label>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td></td>
                                                                                    <td></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td colspan="4">
                                                                                        <div class="form-check form-check-inline ml-2">
                                                                                            <label class="form-check-label" for="distribution_other">Other</label>
                                                                                            <input class="form-check-input ml-3" type="input" name="distribution_other" id="distribution_other">
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                            </table>
                                                                            <div class="row ml-2">
                                                                                
                                                                                
                                                                            </div>
                                                                        </fieldset>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="../js/jquery-3.2.1.min.js" type="text/javascript"></script>
        <script src="../js/popper.min.js" type="text/javascript"></script>
        <script src="../js/bootstrap.min.js" type="text/javascript"></script>
        <script src="../js/perfect-scrollbar.jquery.min.js" type="text/javascript"></script>
        <script src="../js/prism.min.js" type="text/javascript"></script>
        <script src="../js/jquery.matchHeight-min.js" type="text/javascript"></script>
        <script src="../js/screenfull.min.js" type="text/javascript"></script>
        <script src="../js/pace.min.js" type="text/javascript"></script>
        <script src="../js/app-sidebar.js" type="text/javascript"></script>
        <script src="../js/notification-sidebar.js" type="text/javascript"></script>
        <script src="../js/customizer.js" type="text/javascript"></script>
        <script type="text/javascript" src="../js/datatables.min.js"></script>

        <script>
            document.addEventListener('DOMContentLoaded', (event) => {
                const today = new Date().toISOString().split('T')[0];
                document.querySelectorAll('input[type="date"]').forEach(input => {
                    input.value = today;
                });
            });

            document.addEventListener('DOMContentLoaded', function () {
                const effectiveDateInput = document.getElementById('effective_date');
                const expiredDateInput = document.getElementById('expired_date');
        
                // Function to update the expired date based on effective date
                function updateExpiredDate() {
                    const effectiveDate = new Date(effectiveDateInput.value);
                    if (!isNaN(effectiveDate.getTime())) {
                        effectiveDate.setDate(effectiveDate.getDate() + 30);
                        expiredDateInput.value = effectiveDate.toISOString().split('T')[0];
                    }
                }
        
                // Set default effective date to today
                const today = new Date();
                effectiveDateInput.value = today.toISOString().split('T')[0];
        
                // Set default expired date to today + 30 days
                updateExpiredDate();
        
                // Update expired date in real-time when effective date is changed
                effectiveDateInput.addEventListener('change', updateExpiredDate);
            });

            document.addEventListener('DOMContentLoaded', function() {
                const byDateContainer = document.getElementById('by_date_container');
                const permanentRequiredYes = document.getElementById('permanent_required_yes');
                const permanentRequiredNo = document.getElementById('permanent_required_no');
        
                function toggleByDate() {
                    if (permanentRequiredYes.checked) {
                        byDateContainer.style.display = 'block';
                    } else {
                        byDateContainer.style.display = 'none';
                    }
                }
        
                // Set initial visibility
                toggleByDate();
        
                // Add event listeners to radio buttons
                permanentRequiredYes.addEventListener('change', toggleByDate);
                permanentRequiredNo.addEventListener('change', toggleByDate);
            });

            document.addEventListener('DOMContentLoaded', function() {
                const trainingDateContainer = document.getElementById('training_date_container');
                const trainingRequiredYes = document.getElementById('Yes');
                const trainingRequiredNo = document.getElementById('No');
        
                function toggleTrainingDate() {
                    if (trainingRequiredYes.checked) {
                        trainingDateContainer.style.display = 'block';
                    } else {
                        trainingDateContainer.style.display = 'none';
                    }
                }
        
                // Set initial visibility
                toggleTrainingDate();
        
                // Add event listeners to radio buttons
                trainingRequiredYes.addEventListener('change', toggleTrainingDate);
                trainingRequiredNo.addEventListener('change', toggleTrainingDate);
            });
        </script>
    </body>
</html>